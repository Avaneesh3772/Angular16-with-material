<h2 class='page-title'>Dashboard</h2>
<div class="page-container">
  <div *ngIf="userDataLoaded; else elseBlock">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 app-table">

      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>
      <!-- Username Column -->
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef> Username </th>
        <td mat-cell *matCellDef="let element"> {{element.username}} </td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let element"> {{element.email}} </td>
      </ng-container>

      <!-- Phone Column -->
      <ng-container matColumnDef="phone">
        <th mat-header-cell *matHeaderCellDef> Phone </th>
        <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"  class="app-table-row"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="app-table-row" (click)="showDialogBox(row)"></tr>
    </table>
  </div>
  <ng-template #elseBlock>
    <div class="loading-icon-position">
      Loading..<div class="loader"></div>
    </div>
  </ng-template>
</div>
<form #userForm="ngForm" novalidate>
  <div class="form-control">
    <label for="topicField">Topic</label>
    <select name="userTopicInfo" id="topicField" [(ngModel)] = "userTopic" (ngModelChange)="updateTopic($event)"
    #userTopicRef="ngModel" required>
        <option value="" selected>Please select a value</option>
        <option *ngFor="let topic of dropDOwnData$ | async" value="{{topic.email}}">
            {{topic.email}}
        </option>
    </select>  
  </div>
</form>

